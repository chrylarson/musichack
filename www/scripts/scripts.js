"use strict";angular.module("musicApp",["ngCookies","ngResource","ngSanitize","ngRoute"]).config(["$routeProvider",function(a){a.when("/",{templateUrl:"views/main.html",controller:"MainCtrl"}).otherwise({redirectTo:"/"})}]),angular.module("musicApp").controller("MainCtrl",["$scope","Base64","Bluetoothle",function(a,b){function c(a){if("initialized"==a.status){var b=window.localStorage.getItem(g);if(null==b){console.log("Bluetooth initialized successfully, starting scan for music beacons.");var c={serviceAssignedNumbers:[]};window.bluetoothle.startScan(e,f,c)}else connectDevice(b)}else console.log("Unexpected initialize status: "+a.status)}function d(a){console.log("Initialize error: "+a.error+" - "+a.message)}function e(a){console.log(a);var c=b.Convert(a.advertisement);console.log(c)}function f(a){console.log("Start scan error: "+a.error+" - "+a.message)}a.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"],console.log("Start main"),window.bluetoothle.initialize(c,d);var g="address"}]),angular.module("musicApp").factory("Base64",function(){function a(a){var c,d,e,f,g,h,i,j=new Array,k=0,l=a;if(a=a.replace(/[^A-Za-z0-9\+\/\=]/g,""),l!=a&&alert("Warning! Characters outside Base64 range in input string ignored."),a.length%4)return alert("Error: Input length is not a multiple of 4 bytes."),"";for(var m=0;k<a.length;)f=b.indexOf(a.charAt(k++)),g=b.indexOf(a.charAt(k++)),h=b.indexOf(a.charAt(k++)),i=b.indexOf(a.charAt(k++)),c=f<<2|g>>4,d=(15&g)<<4|h>>2,e=(3&h)<<6|i,j[m++]=c,64!=h&&(j[m++]=d),64!=i&&(j[m++]=e);return j}var b="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";return{Convert:function(b){for(var c=a(b),d="",e=0;e<c.length;e++)d=d+(c[e]<16?"0":"")+c[e].toString(16);return d}}}),angular.module("musicApp").factory("Bluetoothle",["$rootScope","phonegapReady",function(a,b){return{initialize:b(function(b,c){navigator.bluetoothle.initialize(function(){console.log("init bluetooth");var c=this,d=arguments;b&&a.$apply(function(){b.apply(c,d)})},function(){var b=this,d=arguments;c&&a.$apply(function(){c.apply(b,d)})})})}}]),angular.module("musicApp").factory("phonegapReady",function(){return function(a){var b=[],c=function(){b.push(Array.prototype.slice.call(arguments))};return document.addEventListener("deviceready",function(){b.forEach(function(b){a.apply(this,b)}),c=a},!1),function(){return c.apply(this,arguments)}}});